

                        Logging


    ğŸ† Purpose: Record progress and problems



â€¼ï¸ Levels:  NotSet, 
            Debug, 
            Info, 
            Warning, 
            Error, 
            Critical


ğŸ“Œ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ»Ğ¾Ğ³ Ñ„Ğ°Ğ¹Ğ»Ğ°:

11/25/2022 22:51:54 - <test case name> - ERROR - This is error message
11/25/2022 22:51:54 - <test case name> - INFO - This is info message


â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…     â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…     â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…


1ï¸âƒ£     ÑĞ¾Ğ·Ğ´Ğ°ĞµĞ¼ Ñ„Ğ°Ğ¹Ğ»: test_example.py


def test_loggingDemo():
    logger = logging.getLogger(__name__)

    fileHandler = logging.FileHandler('logfile.log')
    formatter = logging.Formatter("%(asctime)s :%(levelname)s : %(name)s :%(message)s")
    fileHandler.setFormatter(formatter)
    logger.addHandler(fileHandler)  #filehandler object

    logger.setLevel(logging.CRITICAL)


    logger.debug("A debug statement is executed")
    logger.info("Information statement")
    logger.debug("A debug statement is executed")
    logger.warning("Something is in warning mode")
    logger.error("A Major error has happend")
    logger.critical("Critical issue")


â–«ï¸ ĞŸÑ€Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºĞµ test_example.py Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ² Ñ„Ğ°Ğ¹Ğ»Ğµ <logfile.log> Ğ±ÑƒĞ´ĞµÑ‚ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¾ => 

    2022-11-30 11:59:29,283 :CRITICAL : logger.test_example :Critical issue


Ğ§Ñ‚Ğ¾Ğ±Ñ‹ Ğ² Ñ„Ğ°Ğ¹Ğ»Ğµ Ğ±Ñ‹Ğ»Ğ¾ Ğ¾Ñ‚Ñ€Ğ°Ğ¶ĞµĞ½Ğ¾ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ»Ğ¾Ğ³Ğ¾Ğ², Ñ‚Ğ¾Ğ³Ğ´Ğ° Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ => setLevel. Ğ•ÑĞ»Ğ¸ setLevel Ğ²Ñ‹ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½ ĞºĞ°Ğº Error Ñ‚Ğ¾ Ğ²ÑĞµ Ğ²Ñ‹ÑˆĞµ ÑÑ‚Ğ¾ÑÑ‰Ğ¸Ğµ ÑƒÑ€Ğ¾Ğ²Ğ½Ğ¸ Ğ½Ğµ Ğ±ÑƒĞ´ÑƒÑ‚ Ğ¾Ñ‚Ñ€Ğ°Ğ¶ĞµĞ½Ñ‹ Ğ² Ğ»Ğ¾Ğ³ Ñ„Ğ°Ğ¹Ğ»Ğµ => (Debug, Info, Warning)


ğŸ”» logger.setLevel(logging.INFO)


â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…     â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…     â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…


import logging
import math


# Create and configure logger

LOG_FORMAT = "%(asctime)s %(levelname)s %(name)s %(message)s "
logging.basicConfig(filename="/Users/$User_name/Desktop/logger/Lumberjack.log",   âš¡ï¸ # Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ³Ğ´Ğµ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ğ»Ğ¾Ğ³
                    level=logging.DEBUG,                                          âš¡ï¸ setLevel
                    format=LOG_FORMAT,
                    filemode='w',
                    datefmt='%m/%d/%Y %H:%M:%S')
logger = logging.getLogger(__name__)


def quadratic_formula(a, b, c):
    ''' Return the solutions to the equation ax^2 + bx + c = 0.'''
    logger.info("quadratic_formula({0}, {1}, {2})". format(a,b,c))
    # Compute the discriminant
    logger.debug("#Compute the discriminant")
    disc = b**2 - 4*a*c

    # Compute the two roots
    logger.debug("# Compute the two roots")
    root1 = (-b + math.sqrt(disc)) / (2*a)
    root2 = (-b - math.sqrt(disc)) / (2*a)

    # Return the roots
    logger.error("# Return the roots")
    return (root1, root2)


def division(a, b):
    try:
        sum = a / b
    except Exception as e:
        logger.critical("Exception occured: ", exc_info = True)
    return sum


roots = quadratic_formula(1, 0, -4)
print(roots)

a = division(2, 1)
print(a)


ğŸ‘ Output in Lumberjack.log: 

11/30/2022 12:43:26 INFO __main__ quadratic_formula(1, 0, -4) 
11/30/2022 12:43:26 DEBUG __main__ #Compute the discriminant 
11/30/2022 12:43:26 DEBUG __main__ # Compute the two roots 
11/30/2022 12:43:26 ERROR __main__ # Return the roots 



â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…     â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…     â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…â˜…


2ï¸âƒ£     ĞĞ°Ğ¼ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ logger Ğ² Ğ½Ğ°ÑˆĞ¸ html reports.


â˜€ï¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ´Ğ¸Ğ¼ Ñ„Ğ°Ğ¹Ğ» Ğ¸Ğ»Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ğ¼ Ğ² base_setup Ñ„Ğ°Ğ¹Ğ», Ğ³Ğ´Ğµ Ñƒ Ğ½Ğ°Ñ Ğ½Ğ°Ñ…Ğ¾Ğ´ÑÑ‚ÑÑ Ğ²ÑĞµ Ğ½Ğ°ÑˆĞ¸ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸

import inspect
import logging


class BaseClass:

    def getLogger(self):
        loggerName = inspect.stack()[1][3]
        logger = logging.getLogger(loggerName)
        fileHandler = logging.FileHandler('logfile.log')
        formatter = logging.Formatter("%(asctime)s :%(levelname)s : %(name)s :%(message)s")
        fileHandler.setFormatter(formatter)

        logger.addHandler(fileHandler)  # filehandler object

        logger.setLevel(logging.DEBUG)
        return logger



â˜€ï¸ Ğ² Ñ„Ğ°Ğ¹Ğ»Ğµ Ğ³Ğ´Ğµ Ğ¼Ñ‹ Ğ¿Ğ¸ÑˆĞµĞ¼ Ğ½Ğ°ÑˆĞ¸ Ñ‚ĞµÑÑ‚Ñ‹

import pytest

from <file_name>.BaseClass import BaseClass


class TestExample(BaseClass):

    def test_editProfile(self):
        log = self.getLogger()

        log.info(dataLoad[0])
        print(dataLoad[0])          => 

        âš ï¸ Ñ‚ĞµĞ¿ĞµÑ€ÑŒ Ğ²Ñ‹Ğ²Ğ¾Ğ´ Ğ¿ĞµÑ‡Ğ°Ñ‚Ğ¸ Ğ² ĞºĞ¾Ğ½ÑĞ¾Ğ»Ğµ Ğ½Ğ°Ğ¼ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ½Ğµ Ğ½ÑƒĞ¶ĞµĞ½. Ğ’ÑĞµ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¾Ñ‚Ñ€Ğ°Ğ¶Ğ°Ñ‚ÑŒÑÑ Ğ² Ğ»Ğ¾Ğ³ Ñ„Ğ°Ğ¹Ğ»Ğµ
        




$ py.test --html=report.html -s

Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ² html Ñ€ĞµĞ¿Ğ¾Ñ€Ñ‚Ğµ Ğ±ÑƒĞ´ÑƒÑ‚ Ğ¾Ñ‚Ñ€Ğ°Ğ¶ĞµĞ½Ñ‹ Ğ²ÑĞµ Ğ»Ğ¾Ğ³Ğ¸ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ñ‚ĞµÑÑ‚Ğ°.


